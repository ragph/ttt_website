import{w as u,j as t,an as j,q as b,r as a,p as s,x as y,t as l,v as c,C as g,P as v}from"./index-B7D2ZsN8.js";import{A as x}from"./ArrowBack-DA3FraFB.js";import{P as w,b as I}from"./blogApi-CQr_-VaL.js";import{C}from"./Chip-XQ8hwxCe.js";import{A as H}from"./Avatar-B1jeVZRG.js";import"./axiosClient-vYo7QUP3.js";const B=u(t.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),S=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=o=>{const r=o.split("-"),e=r[r.length-1];return/^\d+$/.test(e)?e:null},R=()=>{const{title:o}=j(),r=b(),[e,m]=a.useState(null),[f,i]=a.useState(!0),[p,n]=a.useState(!1);return a.useEffect(()=>{window.scrollTo(0,0),(async()=>{if(!o){n(!0),i(!1);return}const d=k(o);if(!d){n(!0),i(!1);return}i(!0);const h=await I.getBlogById(d);h?(m(h),n(!1)):n(!0),i(!1)})()},[o]),f?t.jsx(s,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(y,{})}):p||!e?t.jsxs(s,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2},children:[t.jsx(l,{variant:"h4",children:"Article not found"}),t.jsx(c,{variant:"contained",startIcon:t.jsx(x,{}),onClick:()=>r("/"),children:"Back to Home"})]}):t.jsxs(s,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(s,{sx:{position:"relative",height:{xs:350,md:450},overflow:"hidden"},children:[t.jsx(s,{component:"img",src:e.image,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(s,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.7) 100%)"}}),t.jsxs(g,{maxWidth:"lg",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between",py:3},children:[t.jsx(c,{startIcon:t.jsx(x,{}),onClick:()=>r("/"),sx:{color:"white",alignSelf:"flex-start","&:hover":{bgcolor:"rgba(255,255,255,0.1)"}},children:"Back to Home"}),t.jsxs(s,{children:[t.jsx(C,{label:e.category,sx:{bgcolor:"primary.main",color:"white",fontWeight:600,mb:2}}),t.jsx(l,{variant:"h3",sx:{color:"white",fontWeight:700,mb:2,fontSize:{xs:"1.75rem",md:"2.5rem"},lineHeight:1.2},children:e.title}),t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},children:[t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(H,{src:e.authorImage||void 0,sx:{width:40,height:40},children:t.jsx(w,{})}),t.jsx(l,{sx:{color:"white",fontWeight:500},children:e.author})]}),t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(B,{sx:{color:"white",fontSize:18}}),t.jsx(l,{sx:{color:"white"},children:S(e.datePosted)})]})]})]})]})]}),t.jsxs(g,{maxWidth:"md",sx:{py:{xs:4,md:8}},children:[t.jsx(v,{elevation:0,sx:{p:{xs:3,md:6},borderRadius:3,bgcolor:"background.paper"},children:t.jsx(s,{sx:{"& h2":{fontSize:"1.2rem",fontWeight:600,mt:4,mb:2,color:"text.primary"},"& p":{fontSize:"1rem",lineHeight:1.8,mb:2,color:"text.secondary"},"& img":{maxWidth:"100%",height:"auto",borderRadius:2,my:2},"& ul, & ol":{pl:3,mb:2,color:"text.secondary"},"& li":{mb:1,lineHeight:1.8}},dangerouslySetInnerHTML:{__html:e.description}})}),t.jsx(s,{sx:{display:"flex",justifyContent:"center",mt:6},children:t.jsx(c,{variant:"outlined",size:"large",startIcon:t.jsx(x,{}),onClick:()=>r("/"),sx:{borderRadius:999,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Back to All Articles"})})]})]})};export{R as default};
