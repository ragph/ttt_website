import{w as T,j as t,an as C,q as H,r as l,p as o,x as S,t as c,v as h,C as b,P as B}from"./index-CJ2Tu5f6.js";import{A as g}from"./ArrowBack-D3wJwVes.js";import{P as A,b as k}from"./blogApi-_XtUWYn1.js";import{C as W}from"./Chip-BhsmEnfQ.js";import{A as P}from"./Avatar-DYsBOOtp.js";import"./axiosClient-CL_ngloS.js";const E=T(t.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),z=i=>{const s=document.createElement("div");return s.innerHTML=i,s.textContent||s.innerText||""},D=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=i=>parseInt(i,36).toString(),U=()=>{const{id:i}=C(),s=H(),[e,j]=l.useState(null),[y,x]=l.useState(!0),[v,m]=l.useState(!1);return l.useEffect(()=>{window.scrollTo(0,0),(async()=>{if(!i){m(!0),x(!1);return}const n=_(i);x(!0);const d=await k.getBlogById(n);d?(j(d),m(!1)):m(!0),x(!1)})()},[i]),l.useEffect(()=>{if(!e)return;const u=document.title,n=e.excerpt||z(e.description).substring(0,160),d=window.location.href;document.title=`${e.title} | TTT Travel`;const r=(p,w,I)=>{const f=I?"property":"name";let a=document.querySelector(`meta[${f}="${p}"]`);a||(a=document.createElement("meta"),a.setAttribute(f,p),document.head.appendChild(a)),a.setAttribute("content",w)};return r("description",n),r("author",e.author),r("og:title",e.title,!0),r("og:description",n,!0),r("og:image",e.image,!0),r("og:url",d,!0),r("og:type","article",!0),r("og:site_name","TTT Travel",!0),r("twitter:card","summary_large_image"),r("twitter:title",e.title),r("twitter:description",n),r("twitter:image",e.image),r("article:published_time",e.datePosted,!0),r("article:author",e.author,!0),r("article:section",e.category,!0),()=>{document.title=u}},[e]),y?t.jsx(o,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(S,{})}):v||!e?t.jsxs(o,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2},children:[t.jsx(c,{variant:"h4",children:"Article not found"}),t.jsx(h,{variant:"contained",startIcon:t.jsx(g,{}),onClick:()=>s("/"),children:"Back to Home"})]}):t.jsxs(o,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(o,{sx:{position:"relative",height:{xs:350,md:450},overflow:"hidden"},children:[t.jsx(o,{component:"img",src:e.image,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(o,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.7) 100%)"}}),t.jsxs(b,{maxWidth:"lg",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between",py:3},children:[t.jsx(h,{startIcon:t.jsx(g,{}),onClick:()=>s("/"),sx:{color:"white",alignSelf:"flex-start","&:hover":{bgcolor:"rgba(255,255,255,0.1)"}},children:"Back to Home"}),t.jsxs(o,{children:[t.jsx(W,{label:e.category,sx:{bgcolor:"primary.main",color:"white",fontWeight:600,mb:2}}),t.jsx(c,{variant:"h3",sx:{color:"white",fontWeight:700,mb:2,fontSize:{xs:"1.75rem",md:"2.5rem"},lineHeight:1.2},children:e.title}),t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},children:[t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(P,{src:e.authorImage||void 0,sx:{width:40,height:40},children:t.jsx(A,{})}),t.jsx(c,{sx:{color:"white",fontWeight:500},children:e.author})]}),t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(E,{sx:{color:"white",fontSize:18}}),t.jsx(c,{sx:{color:"white"},children:D(e.datePosted)})]})]})]})]})]}),t.jsxs(b,{maxWidth:"md",sx:{py:{xs:4,md:8}},children:[t.jsxs(B,{elevation:0,sx:{p:{xs:3,md:6},borderRadius:3,bgcolor:"background.paper"},children:[e.excerpt&&t.jsx(c,{variant:"body1",sx:{fontStyle:"italic",color:"text.secondary",lineHeight:1.8,mb:4,pb:4,borderBottom:"1px solid",borderColor:"divider"},children:e.excerpt}),t.jsx(o,{sx:{"& h2":{fontSize:"1.2rem",fontWeight:600,mt:4,mb:2,color:"text.primary"},"& p":{fontSize:"1rem",lineHeight:1.8,mb:2,color:"text.secondary"},"& img":{maxWidth:"100%",height:"auto",borderRadius:2,my:2},"& ul, & ol":{pl:3,mb:2,color:"text.secondary"},"& li":{mb:1,lineHeight:1.8}},dangerouslySetInnerHTML:{__html:e.description}})]}),t.jsx(o,{sx:{display:"flex",justifyContent:"center",mt:6},children:t.jsx(h,{variant:"outlined",size:"large",startIcon:t.jsx(g,{}),onClick:()=>s("/"),sx:{borderRadius:999,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Back to All Articles"})})]})]})};export{U as default};
